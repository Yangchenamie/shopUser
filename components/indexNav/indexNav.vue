<template>
    <view class="container" >
      <scroll-view scroll-y="true" class="scroll-x">
        <!-- <view class="items" :class="active===index?'active':''"  @click="activeChanged(item.cateId);change(index)">饮料</view> -->
         <!-- <view class="items" :class="active===index?'active':''"  @click="activeChanged(item.cateId);change(index)">零食</view> -->
          <!-- <view class="items" :class="active===index?'active':''"  ">纸巾</view> -->
          <view class="items" :class="active===index?'active':''">饮料</view>
          <view class="items" :class="active===index?'active':''">零食</view>
          <view class="items" :class="active===index?'active':''">纸巾</view>
      </scroll-view>
          <!-- <view class="commodity" @click="toCommodityInfo(item.commodityId,item.commodityImg,item.commodityTitle,item.commodityPrice,item.commodityStatus)" v-for="(item,index) in commodity" :key="item.commodityId">
            <image :src="item.commodityImg" mode=""></image>
            <view class="commodity-info">
              <p>{{item.commodityTitle}}</p>
              <p class="price">￥{{item.commodityPrice}}</p>
            </view>
          </view> -->
          <scroll-view scroll-y class="right-scroll-view">
            <view class="cate-rv-con" >
              <!-- <navigator :url="'/pages/commodityInfo/commodityInfo?gid='+item2.id" class="goods-item"> -->
                  <view class="goods-item" @click="showPop()">
                      <!-- 商品左侧图片区域 -->
                      <view class="goods-item-left">
                        <image src="../../static/4.png" class="goods-pic"></image>
                      </view>
                      <!-- 商品右侧信息区域 -->
                      <view class="goods-item-right">
                        <!-- 商品标题 -->
                          <view class="goods-name">可口可乐500ml</view>
                              
                          <!-- 商品价格 -->
                          <view class="goods-price">$3.50</view>
                          <view class="goods-num">货存：3 </view>
                      </view>
                    </view>
                    <view class="goods-item">
                        <!-- 商品左侧图片区域 -->
                        <view class="goods-item-left">
                          <image src="../../static/6.png" class="goods-pic"></image>
                        </view>
                        <!-- 商品右侧信息区域 -->
                        <view class="goods-item-right">
                          <!-- 商品标题 -->
                            <view class="goods-name">七喜柠檬汽水350ml</view>
                                
                            <!-- 商品价格 -->
                            <view class="goods-price">$5.00</view>
                            <view class="goods-num">货存：0 </view>
                        </view>
                      </view>
                  <view class="goods-item">
                      <!-- 商品左侧图片区域 -->
                      <view class="goods-item-left">
                        <image src="../../static/5.png" class="goods-pic"></image>
                      </view>
                      <!-- 商品右侧信息区域 -->
                      <view class="goods-item-right">
                        <!-- 商品标题 -->
                          <view class="goods-name">雪碧350ml</view>
            
                          <!-- 商品价格 -->
                          <view class="goods-price">$4.00</view>
                          <view class="goods-num">货存：5 </view>
                      </view>
                    </view>
                    <view class="goods-item">
                        <!-- 商品左侧图片区域 -->
                        <view class="goods-item-left">
                          <image src="../../static/4.png" class="goods-pic"></image>
                        </view>
                        <!-- 商品右侧信息区域 -->
                        <view class="goods-item-right">
                          <!-- 商品标题 -->
                            <view class="goods-name">可口可乐500ml</view>
                                
                            <!-- 商品价格 -->
                            <view class="goods-price">$3.50</view>
                            <view class="goods-num">货存：3 </view>
                            <Screen :show='show' @close="close"></Screen>
                        </view>
                      </view>
                      <view class="goods-item">
                          <!-- 商品左侧图片区域 -->
                          <view class="goods-item-left">
                            <image src="../../static/4.png" class="goods-pic"></image>
                          </view>
                          <!-- 商品右侧信息区域 -->
                          <view class="goods-item-right">
                            <!-- 商品标题 -->
                              <view class="goods-name">可口可乐500ml</view>
                                  
                              <!-- 商品价格 -->
                              <view class="goods-price">$3.50</view>
                              <view class="goods-num">货存：3 </view>
                          </view>
                        </view>
            </view>
          </scroll-view>
          <view class="uniPop" ref="uniPop" v-show="flag" id="uniPop" @click="closeMsg">
            <image src="../../static/4.png" mode=""></image>
            <button @click="gotoBuy">确认购买</button>
          </view>
    </view>

</template>

<script>
  export default {
    
    name:"indexNav",
   data() {
         return {
          active:0,
          move:0,
          current: 0,
          flag:false
         };
       },
    methods:{
      showPop(){
        this.flag = !this.flag
      },
      closeMsg(e){
        console.log(e);
        
      	if( e.target.id=="uniPop"){
      		this.flag = false;
      	}
        console.log(this.flag);
      },
      gotoBuy(){
        console.log(211);
        uni.navigateTo({
          url:'../../pages/payment/payment'
        })
      }
    },
  }

</script>

<style >

.container {
  display: flex;
  position: relative;
}
.scroll-x {
  width: 180rpx;
  background-color: #f3f9ff;
}
.scroll-x .items {
  width: 180rpx;
  text-align: center;
  line-height: 80rpx;
  height: 80rpx;
  font-size: 28rpx
}
.active {
  background-color: rgba(217, 217, 217, 0.8);
  font-weight: 600;
}
.bread .bread-item {
  padding: 10rpx 20rpx;
  border-radius: 30rpx;
  text-align: center;
  font-size: 28rpx;
  line-height: 20rpx;
  height: 20rpx;
  border: 4rpx solid #999999;
}
 .bread {
  display: flex;
  flex-flow: wrap;
  margin-bottom: 20rpx;
  padding: 20rpx;
}
 .bread .bread-item {
  margin-right: 20rpx;
  font-size: 26rpx;
  color: #999999;
}
.move {
  background-color: #f3f9ff;
  color: #177FFF;
  border: 4rpx solid #177FFF !important;
}
.con-right {
  width: 540rpx;
  margin-left: 20rpx;
}

     .goods-item {
        display: flex;
        padding: 10px 5px;
        border-bottom: 1px solid #f0f0f0;
    }
        .goods-item-left {
          margin-right: 5px;
    }
          .goods-pic {
            width: 140rpx;
            height: 140rpx;
            display: block;
          }

    
        .goods-item-right {
          width: 80%;
          font-size: 28rpx;
          position: relative;
          
    }
    .goods-num{
      font-size: 20rpx;
      margin-top: 100rpx;
    }
          .goods-name {
            transform: translateY(50%);
            margin-top: 26rpx;
            float: left;
            font-size: 28rpx;
          }
    
          .goods-price {
              transform: translateY(50%);
              margin-top: 26rpx;
              float: left;
              position: absolute;
              right: 30rpx;
          }
  
  
  
  .uniPop{
    /* display: none !important; */
    z-index: 99;
      position: fixed;
      display: block;
      width: 100%;
      height: 500rpx;
      bottom: 0;
      left: 0;
      background-color:#fff;
      border-top-left-radius: 50rpx;
      border-top-right-radius: 50rpx;
    }
    .uniPop image{
      width: 300rpx;
      height: 300rpx;
      transform: translateX(50%);
      margin-left: 75rpx;
      margin-top: 70rpx;
    }
    .uniPop button{
      width: 260rpx;
      height: 120rpx;
      font-size: 50rpx;
      border-radius: 24rpx;
      color: #fff;
      line-height: 120rpx;
      background-color: #E85757;
    }
</style>